var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},n={},r=t.parcelRequire4a09;null==r&&((r=function(t){if(t in e)return e[t].exports;if(t in n){let r=n[t];delete n[t];let i={id:t,exports:{}};return e[t]=i,r.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(t,e){n[t]=e},t.parcelRequire4a09=r);class i{close(){this.element.remove()}show(){let t=`<div id="ModalContent">${this.content}</div>`;this.element.innerHTML=t,document.body.appendChild(this.element)}alert(){let t=`<h1>Alert</h1><hr>\n                            <div id="Alert">${this.content}<hr>\n                            <button data-mclick="close" id="CloseModal">Okay</button>\n                            </div>`;this.content=t,this.show()}warn(){let t=`<h1>Warning</h1><hr>\n                        <div id="Warning">${this.content}<hr>\n                        <button data-mclick="close" id="CloseModal">Okay</button>\n                        </div>`;return this.content=t,this.show(),!1}confirm(t,e){let n=`<h1>Confirm</h1><hr>\n                        <div id="Confirm">${this.content}<hr>\n                            <button data-mclick="confirmYes">Yes</button>\n                            <button data-mclick="confirmNo">No</button>\n                        </div>`;this.content=n,this.callbacks.confirmYes=()=>{this.close(),null==t||t()},this.callbacks.confirmNo=()=>{this.close(),null==e||e()},this.show()}textInput(t){this.content='<h2>Input Text</h2>\n        <textarea id="TextInput" class="modal-input">Copy/Paste Here</textarea><hr>\n        <button data-mclick="processTextInput">Continue</button>',this.callbacks.processTextInput=e=>{let n=document.getElementById("TextInput").value;this.close(),t.call(e.target,n)},this.show()}constructor(t){let e=document.createElement("div");this.element=e,this.content=t,this.callbacks={close:()=>{this.element.remove()}},e.id="ModalWrapper",e.dataset.mclick="close",e.addEventListener("click",((t,e)=>{var n,r,i;let s=null===(n=t.target)||void 0===n||null===(r=n.dataset)||void 0===r?void 0:r.mclick;var o=this.callbacks[s];null===(i=o)||void 0===i||i.call(o,t.target)}))}}const s={click:{},change:{},keyup:{},actions:{}};class o{from(t){return this.url=t,this}to(t){return this.from(t),this}using(t){return this.data=t,this}then(t){return this.thenHandler=t,this}catch(t){return this.catchHandler=t,this}_processReturn(t){return"JSON"==this.returnType?JSON.parse(t):"HTML"==this.returnType?t:void 0}_prepHeaders(){if("POST"===this.requestType&&this.xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),"GET"===this.requestType){var t=Object.keys(this.data).map((t=>`${t}=${this.data[t]}`)).join("&");this.url=`${this.url}?${t}`}}async send(){return this._prepHeaders(),new Promise(((t,e)=>{const n=this;n.xhr.open(n.requestType,n.url,!0),n.xhr.onload=function(){if(this.status>=200&&this.status<400){var r=n._processReturn(this.response);t(r)}e("Moderate Error")},n.xhr.onerror=function(){e("Serious Error")},n.xhr.send(n.data)}))}now(){this._prepHeaders();new Promise(((t,e)=>{const n=this;n.xhr.open(n.requestType,n.url,!0),n.xhr.onload=function(){if(this.status>=200&&this.status<400){var r=n._processReturn(this.response);t(r)}e("Moderate Error")},n.xhr.onerror=function(){e("Serious Error")},n.xhr.send(n.data)})).then(this.thenHandler).catch(this.catchHandler);return this}constructor(t,e,n,r){return"object"==typeof t&&1==arguments.length?Object.assign(this,t):(this.requestType=null!=t?t:"GET",this.returnType=null!=e?e:"JSON",this.url=null!=n?n:"",this.data=null!=r?r:{}),this.thenHandler=()=>{},this.catchHandler=()=>{},this.xhr=new XMLHttpRequest,this}}class a extends o{constructor(t){super("GET",t,null,null)}}const l=t=>new a("HTML").from(t).send(),c=t=>new a("JSON").from(t).send();r.register("4zBgM",(function(t,e){var n,r,i,s;n=t.exports,r="default",i=()=>E,Object.defineProperty(n,r,{get:i,set:s,enumerable:!0,configurable:!0});
/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */
var o=Object.prototype.toString,a=Array.isArray||function(t){return"[object Array]"===o.call(t)};function l(t){return"function"==typeof t}function c(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function h(t,e){return null!=t&&"object"==typeof t&&e in t}var u=RegExp.prototype.test;var d=/\S/;function p(t){return!function(t,e){return u.call(t,e)}(d,t)}var f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};var g=/\s*/,v=/\s+/,m=/\s*=/,y=/\s*\}/,w=/#|\^|\/|>|\{|&|=|!/;function b(t){this.string=t,this.tail=t,this.pos=0}function x(t,e){this.view=t,this.cache={".":this.view},this.parent=e}function k(){this.templateCache={_cache:{},set:function(t,e){this._cache[t]=e},get:function(t){return this._cache[t]},clear:function(){this._cache={}}}}b.prototype.eos=function(){return""===this.tail},b.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var n=e[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},b.prototype.scanUntil=function(t){var e,n=this.tail.search(t);switch(n){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=e.length,e},x.prototype.push=function(t){return new x(t,this)},x.prototype.lookup=function(t){var e,n,r,i=this.cache;if(i.hasOwnProperty(t))e=i[t];else{for(var s,o,a,c=this,u=!1;c;){if(t.indexOf(".")>0)for(s=c.view,o=t.split("."),a=0;null!=s&&a<o.length;)a===o.length-1&&(u=h(s,o[a])||(n=s,r=o[a],null!=n&&"object"!=typeof n&&n.hasOwnProperty&&n.hasOwnProperty(r))),s=s[o[a++]];else s=c.view[t],u=h(c.view,t);if(u){e=s;break}c=c.parent}i[t]=e}return l(e)&&(e=e.call(this.view)),e},k.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},k.prototype.parse=function(t,e){var n=this.templateCache,r=t+":"+(e||T.tags).join(":"),i=void 0!==n,s=i?n.get(r):void 0;return null==s&&(s=function(t,e){if(!t)return[];var n,r,i,s=!1,o=[],l=[],h=[],u=!1,d=!1,f="",x=0;function k(){if(u&&!d)for(;h.length;)delete l[h.pop()];else h=[];u=!1,d=!1}function C(t){if("string"==typeof t&&(t=t.split(v,2)),!a(t)||2!==t.length)throw new Error("Invalid tags: "+t);n=new RegExp(c(t[0])+"\\s*"),r=new RegExp("\\s*"+c(t[1])),i=new RegExp("\\s*"+c("}"+t[1]))}C(e||T.tags);for(var E,U,j,R,O,H,S=new b(t);!S.eos();){if(E=S.pos,j=S.scanUntil(n))for(var M=0,P=j.length;M<P;++M)p(R=j.charAt(M))?(h.push(l.length),f+=R):(d=!0,s=!0,f+=" "),l.push(["text",R,E,E+1]),E+=1,"\n"===R&&(k(),f="",x=0,s=!1);if(!S.scan(n))break;if(u=!0,U=S.scan(w)||"name",S.scan(g),"="===U?(j=S.scanUntil(m),S.scan(m),S.scanUntil(r)):"{"===U?(j=S.scanUntil(i),S.scan(y),S.scanUntil(r),U="&"):j=S.scanUntil(r),!S.scan(r))throw new Error("Unclosed tag at "+S.pos);if(O=">"==U?[U,j,E,S.pos,f,x,s]:[U,j,E,S.pos],x++,l.push(O),"#"===U||"^"===U)o.push(O);else if("/"===U){if(!(H=o.pop()))throw new Error('Unopened section "'+j+'" at '+E);if(H[1]!==j)throw new Error('Unclosed section "'+H[1]+'" at '+E)}else"name"===U||"{"===U||"&"===U?d=!0:"="===U&&C(j)}if(k(),H=o.pop())throw new Error('Unclosed section "'+H[1]+'" at '+S.pos);return function(t){for(var e,n=[],r=n,i=[],s=0,o=t.length;s<o;++s)switch((e=t[s])[0]){case"#":case"^":r.push(e),i.push(e),r=e[4]=[];break;case"/":i.pop()[5]=e[2],r=i.length>0?i[i.length-1][4]:n;break;default:r.push(e)}return n}(function(t){for(var e,n,r=[],i=0,s=t.length;i<s;++i)(e=t[i])&&("text"===e[0]&&n&&"text"===n[0]?(n[1]+=e[1],n[3]=e[3]):(r.push(e),n=e));return r}(l))}(t,e),i&&n.set(r,s)),s},k.prototype.render=function(t,e,n,r){var i=this.getConfigTags(r),s=this.parse(t,i),o=e instanceof x?e:new x(e,void 0);return this.renderTokens(s,o,n,t,r)},k.prototype.renderTokens=function(t,e,n,r,i){for(var s,o,a,l="",c=0,h=t.length;c<h;++c)a=void 0,"#"===(o=(s=t[c])[0])?a=this.renderSection(s,e,n,r,i):"^"===o?a=this.renderInverted(s,e,n,r,i):">"===o?a=this.renderPartial(s,e,n,i):"&"===o?a=this.unescapedValue(s,e):"name"===o?a=this.escapedValue(s,e,i):"text"===o&&(a=this.rawValue(s)),void 0!==a&&(l+=a);return l},k.prototype.renderSection=function(t,e,n,r,i){var s=this,o="",c=e.lookup(t[1]);if(c){if(a(c))for(var h=0,u=c.length;h<u;++h)o+=this.renderTokens(t[4],e.push(c[h]),n,r,i);else if("object"==typeof c||"string"==typeof c||"number"==typeof c)o+=this.renderTokens(t[4],e.push(c),n,r,i);else if(l(c)){if("string"!=typeof r)throw new Error("Cannot use higher-order sections without the original template");null!=(c=c.call(e.view,r.slice(t[3],t[5]),(function(t){return s.render(t,e,n,i)})))&&(o+=c)}else o+=this.renderTokens(t[4],e,n,r,i);return o}},k.prototype.renderInverted=function(t,e,n,r,i){var s=e.lookup(t[1]);if(!s||a(s)&&0===s.length)return this.renderTokens(t[4],e,n,r,i)},k.prototype.indentPartial=function(t,e,n){for(var r=e.replace(/[^ \t]/g,""),i=t.split("\n"),s=0;s<i.length;s++)i[s].length&&(s>0||!n)&&(i[s]=r+i[s]);return i.join("\n")},k.prototype.renderPartial=function(t,e,n,r){if(n){var i=this.getConfigTags(r),s=l(n)?n(t[1]):n[t[1]];if(null!=s){var o=t[6],a=t[5],c=t[4],h=s;0==a&&c&&(h=this.indentPartial(s,c,o));var u=this.parse(h,i);return this.renderTokens(u,e,n,h,r)}}},k.prototype.unescapedValue=function(t,e){var n=e.lookup(t[1]);if(null!=n)return n},k.prototype.escapedValue=function(t,e,n){var r=this.getConfigEscape(n)||T.escape,i=e.lookup(t[1]);if(null!=i)return"number"==typeof i&&r===T.escape?String(i):r(i)},k.prototype.rawValue=function(t){return t[1]},k.prototype.getConfigTags=function(t){return a(t)?t:t&&"object"==typeof t?t.tags:void 0},k.prototype.getConfigEscape=function(t){return t&&"object"==typeof t&&!a(t)?t.escape:void 0};var T={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(t){C.templateCache=t},get templateCache(){return C.templateCache}},C=new k;T.clearCache=function(){return C.clearCache()},T.parse=function(t,e){return C.parse(t,e)},T.render=function(t,e,n,r){if("string"!=typeof t)throw new TypeError('Invalid template! Template should be a "string" but "'+((a(i=t)?"array":typeof i)+'" was given as the first argument for mustache#render(template, view, partials)'));var i;return C.render(t,e,n,r)},T.escape=function(t){return String(t).replace(/[&<>"'`=\/]/g,(function(t){return f[t]}))},T.Scanner=b,T.Context=x,T.Writer=k;var E=T}));var h=r("4zBgM");class u{enhanceContext(t){Object.assign(this.context,t)}async importPartial(t,e){const n=this;t=null!=t?t:n.htmlUrl;try{let r=await l(t);return n.html=r,n.autoRender&&1!=e&&n.render(n.target),r}catch(t){return t}}async importContext(t,e){const n=this;t=null!=t?t:n.dataUrl;try{let r=await c(t);return n.context=r,n.autoRender&&1!=e&&n.render(n.target),r}catch(t){return t}}async importPackage(t,e){let n=this;return t=null!=t?t:n.dataUrl,e=null!=e?e:n.templateUrl,await this.importPartial(e,!0),await this.importContext(t,!0),n.autoRender&&n.render(n.target),n}load(t){let e=document.querySelector(t);var n;let r=null!==(n=e.dataset.engine)&&void 0!==n?n:"default";var i;return this.html=null!==(i=e.innerHTML)&&void 0!==i?i:"<em>No Template Found</em>",this.engine=r,this.autoRender&&this.render(this.target),this}render(t){var e;let n=document.querySelector(t);var r=this.engines[this.engine];let i=null===(e=r)||void 0===e?void 0:e.call(r);return this.rendered=i,(null==n?void 0:n.innerHTML)&&(n.innerHTML=i),console.log("Rendered HTML to Page"),this.rendered}constructor(t){var e,n,r,i,s,o;"object"==typeof t&&Object.assign(this,t),this.context=this.context||{},this.html=null!==(e=this.html)&&void 0!==e?e:"",this.engine=null!==(n=this.engine)&&void 0!==n?n:"default",this.target=null!==(r=this.target)&&void 0!==r?r:"#NoTargetSelected",this.rendered=null!==(i=this.rendered)&&void 0!==i?i:"",this.dataUrl=null!==(s=this.dataUrl)&&void 0!==s?s:null,this.htmlUrl=null!==(o=this.htmlUrl)&&void 0!==o?o:null,this.autoRender=this.autoRender||!1,this.engines={default:()=>this.html,mustache:()=>h.default.render(this.html,this.context)}}}class d{stop(){return this.result=performance.now()-this.start,this}get detailedResults(){return`Task "${this.name}" executed in ${this.result} ms.`}constructor(t){this.name=t,this.start=performance.now(),this.result=0}}document.body.addEventListener("keyup",(t=>{var e;let n=t.target;var r=s.keyup[n.dataset.keyup];null===(e=r)||void 0===e||e.call(r,n,t)})),document.body.addEventListener("change",(t=>{var e;let n=t.target;var r=s.change[n.dataset.change];null===(e=r)||void 0===e||e.call(r,n,t)})),document.body.addEventListener("click",(t=>{var e;let n=t.target;var r=s.click[n.dataset.click];null===(e=r)||void 0===e||e.call(r,n,t)})),document.body.onload=()=>{new u({engine:"mustache",autoRender:!0,dataUrl:"api/test.json",htmlUrl:"api/partial.html",target:"#TestArea"}).importPackage().catch((t=>{console.log(t)})),c("api/test.json").then((t=>{console.log(`We got this text: ${t.someText}`)})).catch((t=>{console.log(t)})),s.click.hello=async function(){try{let t="api/greeting.html",e=await l(t);new i(e).show()}catch(t){console.log(t)}};let t=new d("Doing Stuff");(async function(t){let e=await c(`api/test.json?_=${Math.random()}`);console.log(e)})().then((()=>{t.stop(),console.log(t.detailedResults)}))};
//# sourceMappingURL=index.8dc764a1.js.map
